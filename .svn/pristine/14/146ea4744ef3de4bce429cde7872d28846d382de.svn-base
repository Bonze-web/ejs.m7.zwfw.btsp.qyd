!function(e){function r(e,t){t-=(e+"").length;for(var r=0;r<t;r++)e="0"+e;return e}var i=/([YyMDdHhmsiWw])(\1*)/g,u="YYYY-MM-DD hh:mm:ss:iii";function h(){var e=new(Function.prototype.bind.apply(Date,[Date].concat(Array.prototype.slice.call(arguments))));return Object.setPrototypeOf(e,h.prototype),e}Object.setPrototypeOf(h.prototype,Date.prototype),h.parseDate=function(e,t){if(!e||"number"==typeof e)return new(Function.prototype.bind.apply(h,[h].concat(Array.prototype.slice.call(arguments))));try{e=e||"";var r=(t=t||u).match(i),n=e.match(/(\d)+/g);if(0<r.length){for(var s=new h(1970,0,1),a=0,o=r.length;a<o;a++){var c=parseInt(n[a],10)||0;switch(r[a].charAt(0)||""){case"Y":s.setFullYear(c);break;case"M":s.setMonth(c-1);break;case"D":s.setDate(c);break;case"h":s.setHours(c);break;case"m":s.setMinutes(c);break;case"s":s.setSeconds(c);break;case"i":s.setMilliseconds(c)}}return s}}catch(e){}throw new Error("解析成MyDate失败，请检查传入格式！")},h.prototype.format=function(e){var t=this;return(e||u).replace(i,function(e){switch(e.charAt(0)){case"Y":case"y":return r(t.getFullYear(),e.length);case"M":return r(t.getMonth()+1,e.length);case"D":case"d":return r(t.getDate(),e.length);case"H":case"h":return r(t.getHours(),e.length);case"m":return r(t.getMinutes(),e.length);case"s":return r(t.getSeconds(),e.length);case"i":return r(t.getMilliseconds(),e.length);case"w":return t.getDay();case"W":return r(["日","一","二","三","四","五","六"][t.getDay()],e.length);default:return""}})},h.prototype.getAbsoluteMillonsTime=function(e){var t=e?60*this.getTimezoneOffset()*1e3:0;return this.getTime()+t},h.prototype.toTimeStap=function(e){return""+this.getAbsoluteMillonsTime(e)},h.prototype.nextSeconds=function(e){return e=e||1,new h(this.getTime()+1e3*e)},h.prototype.nextMinutes=function(e){return e=e||1,this.nextSeconds(60*e)},h.prototype.nextHours=function(e){return e=e||1,this.nextMinutes(60*e)},h.prototype.nextDays=function(e){return e=e||1,this.nextHours(24*e)},h.prototype.nextMonths=function(e){e=e||0;for(var t=this.getMonth()+1,r=this.getFullYear(),n=[31,0,31,30,31,30,31,31,30,31,30,31],s=0,a=0;a<e;a++){var o=t+a,c=r+~~(o/12),i=c%4==0&&(c%100!=0||c%400!=0);n[1]=i?29:28,0===(o%=12)?o=11:--o,s+=n[o]}return this.nextDays(s)},h.prototype.nextYears=function(e){return e=e||0,this.nextMonths(12*e)},h.prototype.compare=function(e,t){if(!(e instanceof h))throw new Error("比较类型错误，必须是MyDate型");var r="";switch((t=t||"s").charAt(0)){case"Y":case"y":r="YYYY";break;case"M":r="YYYYMM";break;case"D":case"d":r="YYYYMMDD";break;case"H":case"h":r="YYYYMMDDhh";break;case"m":r="YYYYMMDDhhmm";break;case"S":case"s":r="YYYYMMDDhhmmss";break;case"I":case"i":r="YYYYMMDDhhmmssiii"}return+this.format(r)-+e.format(r)},e.MyDate=h,Util.date=e}({});